import{_ as x}from"./not-found.5cnKYeU4.js";import k from"./ContentRenderer.NLjEgJhZ.js";import I from"./ContentDoc.rDHXk8w3.js";import{m as C,i as T,q as E,h as N,u as L,c as r,b as g,w,o as a,d as B,a as c,t as n,F as D,r as H,g as v,s as R,v as V}from"./entry.379RuqcD.js";import{q as $}from"./query.pzRVdquc.js";import{$ as d}from"./jquery.q45JL4Hk.js";import{_ as j}from"./_plugin-vue_export-helper.x3n3nnut.js";import"./ContentRendererMarkdown.vue.Nw7u2-2J.js";import"./index.1dSrIji7.js";import"./preview.gyS_fwj-.js";import"./ContentQuery.MuL9r-Yv.js";import"./asyncData._hJIsYYG.js";import"./_commonjsHelpers.5-cIlDoe.js";const q={class:"center-container"},M={class:"meta-block"},S={class:"title"},U={class:"meta-tags-block"},A={class:"meta-tags"},O={title:"When this data was created, followed by when it was last updated.",class:"meta-tags"},P={key:0,title:"Completion status. Ranges 'notes', 'draft', 'in-progress', 'finished'.",class:"meta-tags"},W={key:1,title:"How confident I am in what I've written. Ranges 'log', 'fiction', '0', 'impossible', 'not believed', 'speculation', 'believed', 'certain'.",class:"meta-tags"},z={key:0,class:"description"},G=["innerHTML"],J={data(){return{footnotes:{},currentFootnoteId:null,showingFootnote:!1}},computed:{currentFootnote(){return this.currentFootnoteId>-1&&this.footnotes[this.currentFootnoteId]!=null?this.footnotes[this.currentFootnoteId]:""}},mounted(){d('a[id^="user-content-fnref"]').on("mouseenter",this.showFootnote.bind(this)),window.addEventListener("scroll",this.hideFootnote),d(".footnotes li").each((e,l)=>{console.log("adding fn to object: "+e);const _=d(l).attr("id").split("-").pop(),h=d(l).html();this.footnotes[_]=h}),setTimeout(()=>{window.Nutshell.start(document.getElementsByClassName("nuxt-content")[0])})},beforeDestroy(){window.removeEventListener("scroll",this.hideFootnote)},methods:{showFootnote(u){const e=d(u.target).attr("id").split("-").pop();console.log(e),console.log(this.footnotes[e]),this.footnotes[e]&&(this.currentFootnoteId=e,this.showingFootnote=!0)},hideFootnote(){this.currentFootnoteId=null,this.showingFootnote=!1}}},K=Object.assign(J,{__name:"[id]",async setup(u){let e,l;const{path:_}=C(),h=_.replace(/\/+$/,"");let o=([e,l]=T(()=>$("/posts").where({_path:h}).only(["title","excerpt","body"]).find()),e=await e,l(),e);o.length==0&&E("/404"),o=o[0];const m=s=>{var f,p;return s.type==="text"?s.value:(f=s.children)!=null&&f.length?`${((p=s.children)==null?void 0:p.map(m).join(""))||""}`:""};let i=o.excerpt?m(o.excerpt):m(o.body);return i=i.replace(/<\/?[^>]+(>|$)/g,""),N({title:o.title,description:i,"og:description":i,"twitter:description":i,"og:url":"https://kennethsun.net"+h}),L({title:o.title,description:i}),(s,f)=>{const p=x,y=k,b=I;return a(),r("main",q,[g(b,{head:!1,class:"center-container"},{"not-found":w(()=>[g(p)]),empty:w(()=>[B(" Uh oh,, there's nothing there! ")]),default:w(({doc:t})=>[c("div",M,[c("h1",S,n(t.title||""),1),c("div",U,[c("span",A,n(t.category),1),(a(!0),r(D,null,H(t.tags,F=>(a(),r("span",{key:F,class:"meta-tags"},n(F),1))),128)),c("span",O,n((t.start||"Unknown").slice(0,10))+"â€“"+n((t.end||"Unknown").slice(0,10)),1),t.status?(a(),r("span",P,n(t.status),1)):v("",!0),t.confidence?(a(),r("span",W,n(t.confidence),1)):v("",!0)]),t.description?(a(),r("div",z,n(t.description),1)):v("",!0)]),g(y,{class:"nuxt-content",value:t},null,8,["value"]),R(c("div",{class:"hover-footnote",innerHTML:s.currentFootnote},null,8,G),[[V,s.showingFootnote]])]),_:1})])}}}),lt=j(K,[["__scopeId","data-v-7b5a641b"]]);export{lt as default};
